#!/bin/bash
# Скрипт для быстрой загрузки изменений на GitHub (Linux/Mac)

if [ -z "$1" ]; then
    echo "Использование: ./git_push.sh 'Описание изменений'"
    echo "Пример: ./git_push.sh 'Добавлена поддержка новых категорий'"
    exit 1
fi

echo "========================================"
echo "Загрузка изменений на GitHub"
echo "========================================"
echo

echo "[1/4] Проверка статуса..."
git status
echo

echo "[2/4] Добавление всех изменений..."
git add .
if [ $? -ne 0 ]; then
    echo "ОШИБКА: Не удалось добавить файлы"
    exit 1
fi
echo

echo "[3/4] Создание коммита..."
git commit -m "$*"
if [ $? -ne 0 ]; then
    echo "ОШИБКА: Не удалось создать коммит"
    echo "Возможно, нет изменений для коммита"
    exit 1
fi
echo

echo "[4/4] Отправка на GitHub..."
git push
if [ $? -ne 0 ]; then
    echo "ОШИБКА: Не удалось отправить на GitHub"
    echo "Проверьте подключение к интернету и настройки Git"
    exit 1
fi
echo

echo "========================================"
echo "Готово! Изменения загружены на GitHub"
echo "========================================"

